<!DOCTYPE html>
<html>
<head>
   <meta name="viewport" content="width=device-width, initial-scale=1">
  
	<title>Waka Bot Discord OAuth2 App</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>

<style>
    main{
    height: 85vh !important;
    display: grid !important;
    align-content: center;
    }

  .img{
    background-image: url('./ALLNIGHTER.png');
  }

  .hero-img{
    height: 400px;
  }
</style>

<body class="d-flex h-100 text-center text-black bg-white">
    
<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
  <header class="mb-auto">
    <div>
      <h3 class="float-md-start mb-0">Waka Bot</h3>
      <nav class="nav nav-masthead justify-content-center float-md-end">
        <a class="nav-link active" aria-current="page" href="https://discord.com/api/oauth2/authorize?client_id=947975318407360613&permissions=8&scope=bot%20applications.commands">Add to Discord</a>
        <a class="nav-link" href="#">Commands</a>
        <a class="nav-link" href="#">Stats</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <img src="./ALLNIGHTER.png" class="hero-img img-fluid rounded mx-auto d-block" alt="Responsive image">
 
    <h1>Bring WakaTime to your Discord</h1>
    <p class="lead">A discord bot integrating Waka Time stats and leaderboards into your guild</p>

    <p class="lead">
    <button type="button" class="btn btn-light">
        <a href="https://discord.com/api/oauth2/authorize?client_id=947975318407360613&permissions=8&scope=bot%20applications.commands" target="_blank">Add Bot to your Channel</a>
      </button>

      <button type="button" class="btn btn-light">
        <a href="/dashboard">Go to Dashboard</a>
      </button>
    </p>

  </main>

  <footer class="mt-auto text-white-50">
    <p>Copyright WakaBot 2022</p>
  </footer>
</div>


   
<!--    
	<a id="login" style="display: none;" href="https://discord.com/api/oauth2/authorize?client_id=947975318407360613&redirect_uri=https%3A%2F%2Fwaka-bot.aiacy.repl.co&response_type=code&scope=identify">Identify Yourself</a>
	<script>
		function generateRandomString() {
			let randomString = '';
			const randomNumber = Math.floor(Math.random() * 10);

			for (let i = 0; i < 20 + randomNumber; i++) {
				randomString += String.fromCharCode(33 + Math.floor(Math.random() * 94));
			}

			return randomString;
		}

		window.onload = () => {
			const fragment = new URLSearchParams(window.location.hash.slice(1));
			const [accessToken, tokenType, state] = [fragment.get('access_token'), fragment.get('token_type'), fragment.get('state')];

			if (!accessToken) {
				const randomString = generateRandomString();
				localStorage.setItem('oauth-state', randomString);

				document.getElementById('login').href += `&state=${encodeURIComponent(btoa(randomString))}`;
				return document.getElementById('login').style.display = 'block';
			}

			if (localStorage.getItem('oauth-state') !== atob(decodeURIComponent(state))) {
				return console.log('You may have been click-jacked!');
			}

			fetch('https://discord.com/api/users/@me', {
				headers: {
					authorization: `${tokenType} ${accessToken}`,
				},
			})
				.then(result => result.json())
				.then(response => {
					const { username, discriminator } = response;
					document.getElementById('info').innerText += ` ${username}#${discriminator}`;
				})
				.catch(console.error);
		}
	</script>

  -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>